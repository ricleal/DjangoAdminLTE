{% extends "base.html" %}
{% load staticfiles %}
{% load humanize %}

{% block head %}
<!-- highlight.js -->
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/styles/github.min.css">
{% endblock head %}

{% block content %}
<!-- Content Header (Page header) -->
<section class="content-header">
	<h1>
		Reduction <small>{{ object.id }}</small>
	</h1>
	<ol class="breadcrumb">
		<li class="active">Reduction</li>
		<li>{{ instrument|default:request.user.profile.instrument }}</li>
		<li>{{ object }}</li>
	</ol>
</section>

<!-- Main content -->
<section class="invoice">

	<!-- title row -->
	<div class="row">
		<div class="col-xs-12">
			<h2 class="page-header">
				<i class="fa fa-globe"></i> Reduction: {{object.title}} <small class="pull-right"> {{object.id}}</small>
			</h2>
		</div>
		<!-- /.col -->
	</div>
	<!-- /.row -->


	<div class="box-body">
		<pre><code class="python">{{script}}</code></pre>
	</div>

	<p>
		<a id="button_edit" class="btn btn-primary" data-toggle="tooltip"
			data-placement="top" href="#"
			title="Edit the script! Note that reduction and configuration details will be ignored.">Edit</a>

		<a id="button_reduce" class="btn btn-primary"
			data-toggle="tooltip" data-placement="top" href="#"
			title="Submit this configuration to the cluster.">Reduce</a>
	</p>

</section>

<div class="box-body">
	<p>
		<a class="btn btn-primary"
			href="{% url 'sans:eq-sans_reduction_detail' object.id %}">Back
			to Reduction details</a>
	</p>
</div>

<!-- /.content -->
{% endblock %}

{% block body_end %}
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/highlight.min.js"></script>
<script type="application/javascript">
hljs.initHighlightingOnLoad();
</script>
{% endblock body_end %}
